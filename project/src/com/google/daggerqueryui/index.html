<!--Copyright 2020 Google LLC-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--https://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<html>
<head>
    <title>Dagger Query UI</title>

    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="third-party/css/bootstrap.min.css">
    <link rel="stylesheet" href="third-party/css/mdb.min.css">
    <link rel="stylesheet" href="third-party/css/roboto-fonts.css">

    <!-- JQuery -->
    <script src="third-party/js/jquery.min.js" defer></script>
    <!-- MDB core JavaScript -->
    <script src="third-party/js/mdb.min.js" defer></script>
    <!-- Bootstrap tooltips -->
    <script src="third-party/js/popper.min.js" defer></script>
    <!-- Bootstrap core JavaScript -->
    <script src="third-party/js/bootstrap.min.js" defer></script>
    <!-- Vis.js -->
    <script src="third-party/js/vis-network.min.js" defer></script>
</head>
<body>

<div class="container" id="query-text-field">
    <div class="row align-items-center">
        <div class="col-11">
            <div class="md-form form-lg interactive-input-container">
                <div class="form-control form-control-lg query-name"></div>
                <input type="text"
                       id="query-input"
                       class="form-control form-control-lg"
                       spellcheck="false">
                <label for="query-input">
                    Your query
                </label>
            </div>
        </div>
        <div class="col-1" style="background: #FFF;">
            <a tabindex="0"
               id="help-button"
               popover-content="#instructions"
               data-toggle="popover"
               data-trigger="active">
                <img src="res/help-button-icon.svg" id="question-icon"/>
            </a>

            <div class="hidden" id="instructions">
                <div class="popover-heading">
                    How to use <b>Dagger Query UI</b>?
                </div>
                <div class="popover-body">
                    You can execute the following queries by entering them in the input field:
                    <ul>
                        <li>
                            <b class="query-name">deps</b>
                            <b>binding</b> - to see all nodes dependencies
                        </li>
                        <li>
                            <b class="query-name">allpaths</b>
                            <b>source target</b> - to see all paths between source and target nodes
                        </li>
                        <li>
                            <b class="query-name">somepath</b>
                            <b>source target</b> - to see some path between source and target nodes
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div id="error-message" class="text-danger"></div>
</div>
<div id="binding-graph"></div>
<!-- Activates popover from Bootstrap -->
<script src="scripts/enables-popover.js" defer></script>
<!-- Interactive binding graph displayed on the page -->
<script src="scripts/binding_graph.js" defer></script>
<!-- Tries to execute a query and highlights its name when it is valid -->
<script src="scripts/analyze_input_field_content.js" defer></script>
</body>

</html>
